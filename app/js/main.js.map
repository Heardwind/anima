{"version":3,"sources":["global.js","main.js"],"names":["canvasApp","sphereRad","color","radius_sp","theCanvas","document","getElementById","context","getContext","displayWidth","displayHeight","timer","wait","count","numToAddEachFrame","particleList","recycleBin","particleAlpha","r","g","b","fLen","m","projCenterX","projCenterY","zMax","turnAngle","turnSpeed","sphereCenterX","sphereCenterY","sphereCenterZ","particleRad","zeroAlphaDepth","randAccelX","randAccelY","randAccelZ","gravity","rgbString","p","outsideTest","nextParticle","sinAngle","cosAngle","rotX","rotZ","depthAlphaFactor","i","theta","phi","x0","y0","z0","init","width","height","Math","PI","setInterval","onTimer","random","acos","sin","cos","addParticle","attack","hold","decay","initValue","holdValue","lastValue","stuckTime","accelX","accelY","accelZ","fillStyle","fillRect","first","next","age","velX","velY","velZ","x","y","z","projX","projY","alpha","dead","recycle","beginPath","arc","fill","closePath","vx0","vy0","vz0","newParticle","prev","right","Anima","classParent","e","preventDefault","timeNow","Date","now","prevStep","step","lastAnimation","delay","deltaY","steps","upd","element","querySelector","setup","addEventListener","handleScroll","passive","classList","add","setTimeout","anima"],"mappings":"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","file":"main.js","sourcesContent":["","/**\n  * название функции\n  *\n  * @param {number} first - первое число\n  * @returns {number}\n  */\n\n\n\nfunction canvasApp(sphereRad = 180, color = [70,255,140]) {\n    // if (!canvasSupport()) {\n    //     return;\n    // }\n\n    var radius_sp=.7;\n\n    var theCanvas = document.getElementById(\"canvasOne\");\n    var context = theCanvas.getContext(\"2d\");\n\n    var displayWidth;\n    var displayHeight;\n    var timer;\n    var wait;\n    var count;\n    var numToAddEachFrame;\n    var particleList;\n    var recycleBin;\n    var particleAlpha;\n    var r,g,b;\n    var fLen;\n    var m;\n    var projCenterX;\n    var projCenterY;\n    var zMax;\n    var turnAngle;\n    var turnSpeed;\n    var sphereCenterX, sphereCenterY, sphereCenterZ;\n    var particleRad;\n    var zeroAlphaDepth;\n    var randAccelX, randAccelY, randAccelZ;\n    var gravity;\n    var rgbString;\n    //we are defining a lot of variables used in the screen update functions globally so that they don't have to be redefined every frame.\n    var p;\n    var outsideTest;\n    var nextParticle;\n    var sinAngle;\n    var cosAngle;\n    var rotX, rotZ;\n    var depthAlphaFactor;\n    var i;\n    var theta, phi;\n    var x0, y0, z0;\n\n    init();\n\n    function init() {\n        wait = 1;\n        count = wait - 1;\n        numToAddEachFrame = 8;\n\n        //particle color\n        r = color[0];\n        g = color[1];\n        b = color[2];\n\n        rgbString = \"rgba(\"+r+\",\"+g+\",\"+b+\",\"; //partial string for color which will be completed by appending alpha value.\n        particleAlpha = 1; //maximum alpha\n\n        displayWidth = theCanvas.width;\n        displayHeight = theCanvas.height;\n\n        fLen = 320; //represents the distance from the viewer to z=0 depth.\n\n        //projection center coordinates sets location of origin\n        projCenterX = displayWidth/2;\n        projCenterY = displayHeight/2;\n\n        //we will not draw coordinates if they have too large of a z-coordinate (which means they are very close to the observer).\n        zMax = fLen-2;\n\n        particleList = {};\n        recycleBin = {};\n\n        //random acceleration factors - causes some random motion\n        randAccelX = 0.1;\n        randAccelY = 0.1;\n        randAccelZ = 0.1;\n\n        gravity = -0; //try changing to a positive number (not too large, for example 0.3), or negative for floating upwards.\n\n        particleRad = 2.5;\n\n        sphereCenterX = 0;\n        sphereCenterY = 0;\n        sphereCenterZ = -3 - sphereRad;\n\n        //alpha values will lessen as particles move further back, causing depth-based darkening:\n        zeroAlphaDepth = -750;\n\n        turnSpeed = 2*Math.PI/5000; //the sphere will rotate at this speed (one complete rotation every 1600 frames).\n        turnAngle = 0; //initial angle\n\n        timer = setInterval(onTimer, 10/24);\n    }\n\n    function onTimer() {\n        //if enough time has elapsed, we will add new particles.\n        count++;\n        if (count >= wait) {\n\n            count = 0;\n            for (i = 0; i < numToAddEachFrame; i++) {\n                theta = Math.random()*2*Math.PI;\n                phi = Math.acos(Math.random()*2-1);\n                x0 = sphereRad*Math.sin(phi)*Math.cos(theta);\n                y0 = sphereRad*Math.sin(phi)*Math.sin(theta);\n                z0 = sphereRad*Math.cos(phi);\n\n                //We use the addParticle function to add a new particle. The parameters set the position and velocity components.\n                //Note that the velocity parameters will cause the particle to initially fly outwards away from the sphere center (after\n                //it becomes unstuck).\n                var p = addParticle(x0, sphereCenterY + y0, sphereCenterZ + z0, 0.002*x0, 0.002*y0, 0.002*z0);\n\n                //we set some \"envelope\" parameters which will control the evolving alpha of the particles.\n                p.attack = 50;\n                p.hold = 50;\n                p.decay = 100;\n                p.initValue = 0;\n                p.holdValue = particleAlpha;\n                p.lastValue = 0;\n\n                //the particle will be stuck in one place until this time has elapsed:\n                p.stuckTime = 90 + Math.random()*20;\n\n                p.accelX = 0;\n                p.accelY = gravity;\n                p.accelZ = 0;\n            }\n        }\n\n        //update viewing angle\n        turnAngle = (turnAngle + turnSpeed) % (2*Math.PI);\n        sinAngle = Math.sin(turnAngle);\n        cosAngle = Math.cos(turnAngle);\n\n        //background fill\n        context.fillStyle = \"#000000\";\n        context.fillRect(0,0,displayWidth,displayHeight);\n\n        //update and draw particles\n        p = particleList.first;\n        while (p != null) {\n            //before list is altered record next particle\n            nextParticle = p.next;\n\n            //update age\n            p.age++;\n\n            //if the particle is past its \"stuck\" time, it will begin to move.\n            if (p.age > p.stuckTime) {\n                p.velX += p.accelX + randAccelX*(Math.random()*2 - 1);\n                p.velY += p.accelY + randAccelY*(Math.random()*2 - 1);\n                p.velZ += p.accelZ + randAccelZ*(Math.random()*2 - 1);\n\n                p.x += p.velX;\n                p.y += p.velY;\n                p.z += p.velZ;\n            }\n\n            /*\n            We are doing two things here to calculate display coordinates.\n            The whole display is being rotated around a vertical axis, so we first calculate rotated coordinates for\n            x and z (but the y coordinate will not change).\n            Then, we take the new coordinates (rotX, y, rotZ), and project these onto the 2D view plane.\n            */\n            rotX =  cosAngle*p.x + sinAngle*(p.z - sphereCenterZ);\n            rotZ =  -sinAngle*p.x + cosAngle*(p.z - sphereCenterZ) + sphereCenterZ;\n            m =radius_sp* fLen/(fLen - rotZ);\n            p.projX = rotX*m + projCenterX;\n            p.projY = p.y*m + projCenterY;\n\n            //update alpha according to envelope parameters.\n            if (p.age < p.attack+p.hold+p.decay) {\n                if (p.age < p.attack) {\n                    p.alpha = (p.holdValue - p.initValue)/p.attack*p.age + p.initValue;\n                }\n                else if (p.age < p.attack+p.hold) {\n                    p.alpha = p.holdValue;\n                }\n                else if (p.age < p.attack+p.hold+p.decay) {\n                    p.alpha = (p.lastValue - p.holdValue)/p.decay*(p.age-p.attack-p.hold) + p.holdValue;\n                }\n            }\n            else {\n                p.dead = true;\n            }\n\n            //see if the particle is still within the viewable range.\n            if ((p.projX > displayWidth)||(p.projX<0)||(p.projY<0)||(p.projY>displayHeight)||(rotZ>zMax)) {\n                outsideTest = true;\n            }\n            else {\n                outsideTest = false;\n            }\n\n            if (outsideTest||p.dead) {\n                recycle(p);\n            }\n\n            else {\n                //depth-dependent darkening\n                depthAlphaFactor = (1-rotZ/zeroAlphaDepth);\n                depthAlphaFactor = (depthAlphaFactor > 1) ? 1 : ((depthAlphaFactor<0) ? 0 : depthAlphaFactor);\n                context.fillStyle = rgbString + depthAlphaFactor*p.alpha + \")\";\n\n                //draw\n                context.beginPath();\n                context.arc(p.projX, p.projY, m*particleRad, 0, 2*Math.PI, false);\n\n                context.fill();\n                context.closePath();\n\n            }\n\n            p = nextParticle;\n        }\n    }\n\n    function addParticle(x0,y0,z0,vx0,vy0,vz0) {\n        var newParticle;\n        var color;\n\n        //check recycle bin for available drop:\n        if (recycleBin.first != null) {\n            newParticle = recycleBin.first;\n            //remove from bin\n            if (newParticle.next != null) {\n                recycleBin.first = newParticle.next;\n                newParticle.next.prev = null;\n            }\n            else {\n                recycleBin.first = null;\n            }\n        }\n        //if the recycle bin is empty, create a new particle (a new ampty object):\n        else {\n            newParticle = {};\n        }\n\n        //add to beginning of particle list\n        if (particleList.first == null) {\n            particleList.first = newParticle;\n            newParticle.prev = null;\n            newParticle.next = null;\n        }\n        else {\n            newParticle.next = particleList.first;\n            particleList.first.prev = newParticle;\n            particleList.first = newParticle;\n            newParticle.prev = null;\n        }\n\n        //initialize\n        newParticle.x = x0;\n        newParticle.y = y0;\n        newParticle.z = z0;\n        newParticle.velX = vx0;\n        newParticle.velY = vy0;\n        newParticle.velZ = vz0;\n        newParticle.age = 0;\n        newParticle.dead = false;\n        if (Math.random() < 0.5) {\n            newParticle.right = true;\n        }\n        else {\n            newParticle.right = false;\n        }\n        return newParticle;\n    }\n\n    function recycle(p) {\n        //remove from particleList\n        if (particleList.first == p) {\n            if (p.next != null) {\n                p.next.prev = null;\n                particleList.first = p.next;\n            }\n            else {\n                particleList.first = null;\n            }\n        }\n        else {\n            if (p.next == null) {\n                p.prev.next = null;\n            }\n            else {\n                p.prev.next = p.next;\n                p.next.prev = p.prev;\n            }\n        }\n        //add to recycle bin\n        if (recycleBin.first == null) {\n            recycleBin.first = p;\n            p.prev = null;\n            p.next = null;\n        }\n        else {\n            p.next = recycleBin.first;\n            recycleBin.first.prev = p;\n            recycleBin.first = p;\n            p.prev = null;\n        }\n    }\n\n}\n\n\n\nclass Anima {\n\n    constructor(classParent) {\n        this.element = document.querySelector(classParent);\n        this.steps = 4;\n        this.step = 1;\n        this.delay = 2000;\n        this.lastAnimation = 0;\n        this.setup ();\n        canvasApp(160, [1,136,245]);\n    }\n\n    handleScroll = (e) => {\n        e.preventDefault();\n\n        let timeNow = Date.now(),\n            prevStep = this.step;\n\n        if (timeNow - this.lastAnimation < this.delay) {\n            return;\n        }\n\n        if (e.deltaY < 0) {\n            // Up\n\n        } else {\n            // Down\n            this.step = this.step === this.steps ? this.steps : ++this.step;\n        }\n\n        if(prevStep!=this.step) {\n            this.upd();\n        }\n\n\n        this.lastAnimation = timeNow;\n    }\n\n    setup() {\n\n\n        // window.addEventListener('scroll', function (e) {\n        //     e.preventDefault();\n        //     console.log('scroll')\n        //     console.log(e)\n        // } );\n        document.addEventListener('wheel', this.handleScroll, {passive: false} )\n        document.addEventListener('touchmove', this.handleScroll, {passive: false} )\n        document.addEventListener('touchstart', this.handleScroll, {passive: false} )\n        document.addEventListener('touchend', this.handleScroll, {passive: false} )\n\n        // this.upd();\n    }\n\n    upd() {\n        // if(this.element.classList.length>1) {\n        //     let removed = Array.from(this.element.classList).slice(1);\n        //     this.element.classList.remove(removed);\n        // }\n        // this.element.classList.add('step-'+this.step);\n        switch (this.step) {\n            case 1:\n                break;\n            case 2:\n                this.element.classList.add('frame_1');\n                setTimeout(() => {\n                    this.element.classList.add('frame_2');\n                },1000);\n                break;\n            case 3:\n                this.element.classList.add('frame_3');\n                break;\n            case 4:\n                this.element.classList.add('frame_4');\n                break;\n        }\n    }\n\n}\n\n\nfunction init() {\n\n    const anima = new Anima('.anima');\n\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", init);"]}